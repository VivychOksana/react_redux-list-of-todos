{"version":3,"sources":["Components/TodosFromServer.js","Components/UsersFromServer.js","Components/List.js","Components/TodoItems.js","Components/TodoList.js","App.js","index.js"],"names":["todosFromServer","response","regenerator_default","a","async","_context","prev","next","awrap","fetch","sent","abrupt","json","stop","usersFromServer","getIsLoading","state","isLoading","getIsError","isError","getCombinedTodos","combinedTodos","getActiveColumn","activeColumn","getDirection","direction","list","createStore","action","type","Object","objectSpread2","applyMiddleware","thunk","TodoItem","_ref","item","react_default","createElement","id","title","completed","user","name","HEADERS","getMethods","setCurrentColumn","setCurrentDirection","connect","callback","string","x","y","localeCompare","number","boolean","object","sortedTodos","sort","reverse","keys","map","header","onClick","clickedColumn","key","todo","TodoItems","loadData","dispatch","_ref2","todosData","usersData","combinedData","Promise","all","slicedToArray","find","userId","t0","length","Components_TodoList","Fragment","ReactDOM","render","es","store","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.3ce73130.chunk.js","sourcesContent":["const TODOS_URL = 'https://jsonplaceholder.typicode.com/todos';\n\nexport const todosFromServer = async() => {\n  const response = await fetch(TODOS_URL);\n\n  return response.json();\n};\n","const USERS_URL = 'https://jsonplaceholder.typicode.com/users';\n\nexport const usersFromServer = async() => {\n  const response = await fetch(USERS_URL);\n\n  return response.json();\n};\n","import { createStore, applyMiddleware } from 'redux';\nimport thunk from 'redux-thunk';\nimport { todosFromServer } from './TodosFromServer';\nimport { usersFromServer } from './UsersFromServer';\n\nconst START_LOADING = 'START_LOADING';\nconst HANDLE_SUCCESS = 'HANDLE_SUCCESS';\nconst HANDLE_ERROR = 'HANDLE_ERROR';\nconst SET_ACTIVE_COLUMN = 'SET_ACTIVE_COLUMN';\nconst SET_DIRECTION = 'SET_DIRECTION';\n\nexport const startLoading = () => ({ type: START_LOADING });\nexport const handleError = () => ({ type: HANDLE_ERROR });\nexport const handleSuccess = combinedTodos => ({\n  type: HANDLE_SUCCESS,\n  combinedTodos,\n});\nexport const setActiveColumn = activeColumn => ({\n  type: SET_ACTIVE_COLUMN,\n  activeColumn,\n});\nexport const setDirection = direction => ({\n  type: SET_DIRECTION,\n  direction,\n});\n\nexport const loadDataFromServer = () => async(dispatch) => {\n  dispatch(startLoading());\n\n  try {\n    const [todosData, usersData] = await Promise.all([\n      todosFromServer(),\n      usersFromServer(),\n    ]);\n\n    const combinedData = todosData.map(todo => ({\n      ...todo,\n      user: usersData.find(user => user.id === todo.userId),\n    }));\n\n    return dispatch(handleSuccess(combinedData));\n  } catch (e) {\n    dispatch(handleError());\n  }\n};\nexport const getIsLoading = state => state.isLoading;\nexport const getIsError = state => state.isError;\nexport const getCombinedTodos = state => state.combinedTodos;\nexport const getActiveColumn = state => state.activeColumn;\nexport const getDirection = state => state.direction;\n\nconst initialState = {\n  combinedTodos: [],\n  isLoading: false,\n  isError: false,\n  activeColumn: '',\n  direction: 'asc',\n};\n\nconst reducer = (state, action) => {\n  switch (action.type) {\n    case START_LOADING:\n      return {\n        ...state,\n        isLoading: true,\n        isError: false,\n      };\n\n    case HANDLE_SUCCESS:\n      return {\n        ...state,\n        combinedTodos: action.combinedTodos,\n        isLoading: false,\n      };\n\n    case HANDLE_ERROR:\n      return {\n        ...state,\n        isLoading: false,\n        isError: true,\n      };\n\n    case SET_ACTIVE_COLUMN:\n      return {\n        ...state,\n        activeColumn: action.activeColumn,\n      };\n\n    case SET_DIRECTION:\n      return {\n        ...state,\n        direction: action.direction,\n      };\n\n    default:\n      return state;\n  }\n};\n\nconst list = createStore(\n  reducer,\n  initialState,\n  applyMiddleware(thunk),\n);\n\nexport default list;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport '../index.css';\n\nconst TodoItem = ({ item }) => (\n  <tr>\n    <td>{item.id}</td>\n    <td>{item.title}</td>\n    <td>{item.completed ? 'Completed' : 'Not Completed'}</td>\n    <td>{item.user.name}</td>\n  </tr>\n);\n\nTodoItem.propTypes = { item: PropTypes.shape({\n  id: PropTypes.number,\n  title: PropTypes.string,\n  completed: PropTypes.bool,\n  user: PropTypes.shape({\n    name: PropTypes.string,\n  }),\n}).isRequired };\n\nexport default TodoItem;\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport '../index.css';\nimport {\n  setActiveColumn,\n  setDirection,\n  getActiveColumn,\n  getDirection,\n} from './List';\nimport TodoItem from './TodoItems';\n\nconst HEADERS = {\n  id: 'Id',\n  title: 'Title',\n  completed: 'Completed',\n  user: 'Name',\n};\n\nconst TodoList = (\n  { list, activeColumn, direction, setCurrentColumn, setCurrentDirection }\n) => {\n  const sortList = (clickedColumn) => {\n    if (activeColumn !== clickedColumn) {\n      setCurrentDirection('asc');\n      setCurrentColumn(clickedColumn);\n    } else {\n      setCurrentDirection(direction === 'asc' ? 'desc' : 'asc');\n    }\n  };\n\n  const filter = {\n    string: (x, y) => x[activeColumn].localeCompare(y[activeColumn]),\n    number: (x, y) => x[activeColumn] - y[activeColumn],\n    boolean: (x, y) => y[activeColumn] - x[activeColumn],\n    object: (x, y) => x[activeColumn].name.localeCompare(y[activeColumn].name),\n  };\n  const sortType = typeof list[0][activeColumn];\n  const callback = filter[sortType] || (() => 0);\n  const sortedTodos = list.sort(callback);\n\n  if (direction === 'desc') {\n    sortedTodos.reverse();\n  }\n\n  return (\n    <table>\n      <thead>\n        <tr>\n          {Object.keys(HEADERS).map(header => (\n            <th\n              onClick={() => sortList(header)}\n              key={header}\n            >\n              {HEADERS[header]}\n            </th>\n          ))}\n        </tr>\n      </thead>\n      <tbody>\n        {sortedTodos.map(todo => (\n          <TodoItem key={todo.id} item={todo} />))}\n      </tbody>\n    </table>\n  );\n};\n\nconst getData = state => ({\n  activeColumn: getActiveColumn(state),\n  direction: getDirection(state),\n});\n\nconst getMethods = {\n  setCurrentColumn: setActiveColumn,\n  setCurrentDirection: setDirection,\n};\n\nTodoList.propTypes = {\n  list: PropTypes.arrayOf(\n    PropTypes.object\n  ),\n  activeColumn: PropTypes.string,\n  direction: PropTypes.string,\n  setCurrentColumn: PropTypes.func,\n  setCurrentDirection: PropTypes.func,\n}.isRequired;\n\nexport default connect(getData, getMethods)(TodoList);\n","import React from 'react';\nimport PropTypes from 'prop-types';\nimport { connect } from 'react-redux';\nimport {\n  loadDataFromServer,\n  getIsLoading,\n  getIsError,\n  getCombinedTodos,\n} from './Components/List';\nimport TodoList from './Components/TodoList';\n\nconst App = ({ combinedTodos, isLoading, isError, loadData }) => {\n  const startDataLoading = async() => {\n    await loadData();\n  };\n\n  return (\n    <div>\n      <h1>Redux list of todos</h1>\n      {combinedTodos.length ? (\n        <TodoList list={combinedTodos} />\n      ) : (\n        <>\n          <h2>{isError ? 'Error' : ''}</h2>\n          <button type=\"button\" onClick={startDataLoading}>\n            {isLoading ? 'Loading...' : 'Load'}\n          </button>\n        </>\n      )}\n    </div>\n  );\n};\n\nconst getData = state => ({\n  combinedTodos: getCombinedTodos(state),\n  isLoading: getIsLoading(state),\n  isError: getIsError(state),\n});\n\nconst getMethods = {\n  loadData: loadDataFromServer,\n};\n\nApp.propTypes = {\n  combinedTodos: PropTypes.arrayOf(\n    PropTypes.object\n  ),\n  isLoading: PropTypes.bool,\n  isError: PropTypes.bool,\n  loadData: PropTypes.func,\n}.isRequired;\n\nexport default connect(getData, getMethods)(App);\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport { Provider } from 'react-redux';\nimport App from './App';\nimport store from './Components/List';\n\nReactDOM.render(\n  <Provider store={store}>\n    <App />\n  </Provider>\n  ,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}